\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{griger}[2021/12/13 A package providing common configuration.]

% package options
%% language options
\DeclareOption{spanish}{
  \PassOptionsToPackage{\CurrentOption, es-tabla, es-nodecimaldot}{babel}
}
\DeclareOption{english}{
  \PassOptionsToPackage{\CurrentOption}{babel}
}
\ProcessOptions\relax

%fonts
\InputIfFileExists{grigerfont.sty}{}{}

%colors
\InputIfFileExists{grigercolor.sty}{}{}

% language
\RequirePackage{babel}
\RequirePackage{csquotes}

% tables
\RequirePackage{booktabs}

% translations
\RequirePackage{translations}

% links
\makeatletter
\@ifclassloaded{beamer}{}
{
  \RequirePackage[hidelinks, unicode, psdextra]{hyperref}

  \hypersetup{
      linktoc = all
  }
}
\makeatother


% listings
\RequirePackage{listings}

\DeclareTranslationFallback{algorithm-name}{Algorithm}
\DeclareTranslation{English}{algorithm-name}{Algorithm}
\DeclareTranslation{Spanish}{algorithm-name}{Algoritmo}

\renewcommand{\lstlistingname}{\GetTranslation{algorithm-name}}

\lstdefinestyle{global}{
  basicstyle=\normalfont,
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  captionpos=b,
  columns=fullflexible,
  keywords = {if, for, while, exit, return},
  keywordstyle=\itshape,
  mathescape=true,
  numbers=left,
  showstringspaces=false,
  xleftmargin=\parindent,
}

\lstset{style=global}


% glossaries
% The option automake is needed to generate glossaries automatically with LaTeX Workshop default recipe.
%\RequirePackage[acronym, toc, automake=true]{glossaries}

% aesthetics
\renewcommand\labelitemi{$\cdotp$} %Use vertically centered dot as first-level bullet-point.
\renewcommand\labelitemii{$\cdotp$} %Use vertically centered dot as second-level bullet-point.

% section title format
\makeatletter
\@ifclassloaded{beamer}{}
{
  \RequirePackage{titlesec}

  \titleformat{\section}{\bfseries\sffamily}{\thesection}{1em}{}
  \titleformat{\subsection}{\bfseries\sffamily}{\thesubsection}{1em}{}
  \titleformat{\subsubsection}{\bfseries\sffamily}{\thesubsubsection}{1em}{}
  \titleformat{\paragraph}{\bfseries}{}{1em}{}
}
\makeatother
